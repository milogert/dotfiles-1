# nix

export NIX_PATH=$HOME/.nix-defexpr/channels${NIX_PATH:+:}$NIX_PATH

if [ -e ~/.nix-profile/etc/profile.d/nix.sh ]; then
  . ~/.nix-profile/etc/profile.d/nix.sh;
fi

function nixup {
  nix-channel --update
  home-manager -f $XDG_CONFIG_HOME/nix/home.nix switch
  nix-collect-garbage --delete-older-than 30d
  nix optimise-store
}

# homebrew

function brewup() {
  brew update
  brew upgrade
  brew cleanup
  brew doctor
}

if type brew 2&>/dev/null; then
  for completion_file in $(brew --prefix)/etc/bash_completion.d/*; do
    source "$completion_file"
  done
fi
